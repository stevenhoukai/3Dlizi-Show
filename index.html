<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¥¿å±±å±…-SSG-Q1-AIåˆ†äº«å¤§ä¼š</title>
    <link rel="stylesheet" href="style.css">

    <!-- Import Map for Three.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <!-- MediaPipe ä¾èµ– -->
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Skip Button (Outside Overlay to persist across phases) -->
    <div id="skip-intro-btn">SKIP >></div>
    <div id="gesture-toggle-btn">ğŸ– HANDS: ON</div>
    <div id="global-bgm-btn">ğŸµ MUSIC: ON</div>

    <!-- Cinematic Intro Overlay -->
    <div id="intro-overlay">
        <!-- Phase 1: Blockbuster Title -->
        <div class="intro-blockbuster">2026-SSG-Q1-AIåˆ†äº«å¤§ä¼š</div>

        <!-- Phase 2: Original Content -->
        <div class="intro-content">
            <div class="intro-subtitle">ç©¿è¶Šæµ©ç€šå®‡å®™</div>
            <div class="intro-title">å”¯æœ‰çˆ±ä¸Tarså€¼å¾—ä¿¡ä»»</div>
        </div>
    </div>

    <!-- ç”¨äºæ‘„åƒå¤´è¾“å…¥çš„éšè—è§†é¢‘å…ƒç´  -->
    <video id="input-video" style="display: none;"></video>

    <!-- Three.js æ¸²æŸ“å®¹å™¨ -->
    <div id="canvas-container"></div>

    <!-- Has Tech Label (Dynamic Container) -->
    <div id="tech-labels-container">
        <!-- Labels will be injected by JS -->
    </div>

    <!-- UI Toggle Button -->
    <button id="ui-toggle" title="Toggle Control Panel">
        <span class="icon">âš™ï¸</span>
    </button>

    <!-- Virtual Cursor -->
    <div id="hand-cursor"></div>

    <!-- UI Panel -->
    <div id="ui-panel" class="closed">
        <div class="panel-header">
            <h3>Particle Controller</h3>
            <div class="status-indicator" id="camera-status">ğŸ“· Camera Initializing...</div>
        </div>

        <div class="control-group">
            <label for="shape-select">Particle Shape</label>
            <select id="shape-select">
                <option value="saturn">ğŸª Saturn</option>
                <option value="tornado">ğŸŒªï¸ Tornado Lottery</option>
                <option value="fireworks">ğŸ† Fireworks</option>
            </select>
        </div>

        <div class="control-group">
            <label for="color-picker">Particle Color</label>
            <input type="color" id="color-picker" value="#00ffff">
        </div>

        <div class="control-group">
            <label for="color-scheme-select">Color Scheme</label>
            <select id="color-scheme-select">
                <option value="single">Single Color</option>
                <option value="rainbow">ğŸŒˆ Rainbow</option>
                <option value="gradient-y">Gradient (Vertical)</option>
            </select>
        </div>

        <div class="control-group">
            <label for="opacity-slider">Opacity</label>
            <div class="slider-container">
                <input type="range" id="opacity-slider" min="0.1" max="1.0" step="0.05" value="0.8">
            </div>
        </div>

        <div class="control-group">
            <label for="scale-slider">Model Scale</label>
            <div class="slider-container">
                <input type="range" id="scale-slider" min="0.1" max="3.0" step="0.1" value="1.0">
            </div>
        </div>

        <div class="info-text">
            <p>ğŸ‘‹ <b>Gestures:</b></p>
            <p>Left Hand: Expand/Contract (Scale)</p>
            <p>Right Hand: Move Cursor / Pinch to Click</p>
            <p>ğŸ–±ï¸ <b>Mouse:</b> Zoom & Parallax</p>
        </div>
    </div>

    <!-- è°ƒè¯•è§†å›¾ï¼šæ˜¾ç¤ºæ‘„åƒå¤´è¯†åˆ«ç»“æœ (å¯é€‰ï¼Œé»˜è®¤ç¼©å°æ”¾åœ¨è§’è½) -->
    <canvas id="output-canvas" width="320" height="240"></canvas>

    <audio id="bgm-player" loop>
        <source src="bgm/Hans Zimmer - Cornfield Chase_L.ogg" type="audio/ogg">
    </audio>

    <script type="module" src="script.js"></script>
</body>

</html>